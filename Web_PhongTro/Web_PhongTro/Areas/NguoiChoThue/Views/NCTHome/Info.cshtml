@model Web_PhongTro.Areas.NguoiChoThue.ViewModels.NguoiChoThueViewModel

@{
    ViewBag.Title = "Thông tin cá nhân";
    Layout = "~/Areas/NguoiChoThue/Views/Shared/_Layout.cshtml";
}

<div class="title">
    <i class="uil uil-tachometer-fast-alt"></i>
    <span class="text">Thông tin cá nhân</span>
</div>

<div style="padding : 0 15%">
    <div class="profile-form-container">
        <!-- Form để gửi dữ liệu tới action UpdateInfo -->
        @using (Html.BeginForm("UpdateInfo", "NCTHome", FormMethod.Post, new { @class = "profile-form" }))
        {
            <div class="form-group">
                @Html.LabelFor(m => m.TenNguoiChoThue, "Họ và Tên")
                @Html.TextBoxFor(m => m.TenNguoiChoThue, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.SoDienThoai, "Số Điện Thoại")
                @Html.TextBoxFor(m => m.SoDienThoai, new { @class = "form-control", required = "required" })
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.Email, "Email")
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", type = "email", required = "required" })
            </div>

            <div class="form-group">
                @Html.LabelFor(m => m.DiaChi, "Địa Chỉ")
                @Html.TextBoxFor(m => m.DiaChi, new { @class = "form-control" })
            </div>

            <div class="form-group">
                @Html.Label("Mật Khẩu Hiện Tại")
                <input type="password" id="currentPassword" name="currentPassword" placeholder="Nhập mật khẩu hiện tại" class="form-control">
            </div>

            <div class="form-group">
                @Html.Label("Mật Khẩu Mới")
                <input type="password" id="password" name="password" placeholder="Nhập mật khẩu mới" class="form-control">
            </div>

            <div class="form-group">
                @Html.Label("Xác Nhận Mật Khẩu")
                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Xác nhận mật khẩu" class="form-control">
            </div>


            <div class="form-actions">
                <button type="submit" class="btn save">Lưu Thay Đổi</button>
                <button type="button" class="btn cancel" onclick="cancelUpdate()">Hủy</button>
            </div>
        }
        @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
        {
            <div class="text-danger">@ViewBag.ErrorMessage</div>
        }
        <!-- Hiển thị thông báo thành công -->
        @if (TempData["SuccessMessage"] != null)
        {
            <div class="alert alert-success">
                @TempData["SuccessMessage"]
            </div>
        }
    </div>
</div>

<script>
    function cancelUpdate() {
        window.location.href = '@Url.Action("Info", "NguoiChoThue")';
}
</script>